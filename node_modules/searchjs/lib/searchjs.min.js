/* @license searchjs | (c) Searchjs Team and other contributors | https://github.com/deitch/searchjs */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.SEARCHJS={})}(this,function(e){"use strict";function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function v(e,o,r,t){var n,i,l,f,a=null,u=-1;if(r){if(0===t)return null;-1!==t&&(u=t-1)}if(null==e||null==o||!Array.isArray(o)||o.length<1)a=null;else if(Array.isArray(e)){for(a=[],n=0;n<e.length;n++)i=o.slice(0),null!==(l=v(e[n],i,r,u-1))&&a.push(l);0===a.length&&(a=null)}else if("object"===p(e))if(f=o[0],!e.hasOwnProperty(f)&&r){var s=Object.keys(e);for(a=[],n=0;n<s.length;n++){var c=e[s[n]];if(null!=c)if(Array.isArray(c))c.forEach(function(e){var t=v(e,o,r,u);null!==t&&a.push(t)});else if("Object"===c.constructor.name){var d=v(c,o,r,u);null!==d&&a.push(d)}}0===a.length?a=null:1===a.length&&(a=a[0])}else a=o.length<2?e[f]:v(e[f],o.slice(1),r,u);return a}function r(e,t,o){return void 0!==e?e:void 0!==t?t:o}function i(e,t){var o={};return e=e||{},o.negator=r(e._not,t.negator,!1),o.joinAnd="OR"!==r(e._join,t.join,"AND"),o.text=r(e._text,t.text,!1),o.word=r(e._word,t.word,!1),o.start=r(e._start,t.start,!1),o.end=r(e._end,t.end,!1),o.separator=e._separator||t.separator||".",o.propertySearch=r(e._propertySearch,t.propertySearch,!1),o.propertySearchDepth=r(e._propertySearchDepth,t.propertySearchDepth,-1),o}var l={};function h(e,t,o,r,n,i){var l,f,a,u,s,c=!1;if(l=p(e),null===e)c=null===t;else if(void 0===e)c=void 0===t;else if("boolean"===l)c=t===e;else if("number"===l||e instanceof Date)null!=t&&"object"===d(t)?void 0!==t.from||void 0!==t.to||void 0!==t.gte||void 0!==t.lte?(u=t.from||t.gte,s=t.to||t.lte,c=(void 0===t.from&&void 0===t.gte||u<=e)&&(void 0===t.to&&void 0===t.lte||e<=s)):void 0===t.gt&&void 0===t.lt||(c=(void 0===t.gt||e>t.gt)&&(void 0===t.lt||e<t.lt)):c=e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e===t;else if("string"===l)"string"==typeof t&&(t=t.toLowerCase()),e=e.toLowerCase(),o?c=-1!==e.indexOf(t):r?(f=new RegExp("(\\s|^)"+t+"(?=\\s|$)","i"),c=e&&null!==e.match(f)):n?(f=new RegExp("^"+t,"i"),c=e&&null!==e.match(f)):i?(f=new RegExp(t+"$","i"),c=e&&null!==e.match(f)):null!=t&&"object"===d(t)?void 0!==t.from||void 0!==t.to||void 0!==t.gte||void 0!==t.lte?(u=t.from||t.gte,s=t.to||t.lte,c=(void 0===t.from&&void 0===t.gte||u<=e)&&(void 0===t.to&&void 0===t.lte||e<=s)):void 0===t.gt&&void 0===t.lt||(c=(void 0===t.gt||e>t.gt)&&(void 0===t.lt||e<t.lt)):c=t===e;else if(void 0!==e.length)for(a=0;a<e.length&&!(c=h(e[a],t,o,r,n,i));a++);else"object"===l&&(c=void 0!==e[t]);return c}function u(e,t){return f(e,t,i(t,l))}function f(e,t,o){var r,n,i,l,f,a;if(t=t||{},i=!!o.joinAnd,t.terms)for(n=0;n<t.terms.length;n++){if(l=u(e,t.terms[n]),o.negator&&(l=!l),o.joinAnd&&!l){i=!1;break}if(!o.joinAnd&&l){i=!0;break}}else for(r in t)if(t.hasOwnProperty(r)&&0!==r.indexOf("_")){for(a=r.split(o.separator),f=[].concat(t[r]),n=0;n<f.length&&!(l=h(v(e,a,o.propertySearch,o.propertySearchDepth),f[n],o.text,o.word,o.start,o.end));n++);if(o.negator&&(l=!l),o.joinAnd&&!l){i=!1;break}if(!o.joinAnd&&l){i=!0;break}}return i}e.setDefaults=function(e){for(var t in e)l[t]=e[t]},e.resetDefaults=function(){l={}},e.singleMatch=h,e.matchArray=function(e,t){var o,r=[],n=i(t,l);if(e&&0<e.length)for(o=0;o<e.length;o++)f(e[o],t,n)&&r.push(e[o]);return r},e.matchObject=u,Object.defineProperty(e,"__esModule",{value:!0})});